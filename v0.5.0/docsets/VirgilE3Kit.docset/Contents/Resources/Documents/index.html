<!DOCTYPE html>
<html lang="en">
  <head>
    <title>VirgilE3Kit  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a title="VirgilE3Kit  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html">VirgilE3Kit Docs</a></p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html">VirgilE3Kit Reference</a>
        <img id="carat" src="img/carat.png" />
        VirgilE3Kit  Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/EThree.html">EThree</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Enums/EThreeError.html">EThreeError</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            
            <h1 id='virgil-e3kit-objective-c-swift-sdk' class='heading'>Virgil E3Kit Objective-C/Swift SDK</h1>

<p><a href="https://travis-ci.com/VirgilSecurity/virgil-e3kit-x"><img src="https://api.travis-ci.com/VirgilSecurity/virgil-e3kit-x.svg?branch=master" alt="Build Status"></a>
<a href="https://github.com/Carthage/Carthage"><img src="https://img.shields.io/badge/Carthage-compatible-4BC51D.svg?style=flat" alt="Carthage compatible"></a>
<a href="https://cocoapods.org/pods/VirgilE3Kit"><img src="https://img.shields.io/cocoapods/v/VirgilE3Kit.svg" alt="CocoaPods Compatible"></a>
<a href="https://cocoapods.org/pods/VirgilE3Kit"><img src="https://img.shields.io/cocoapods/p/VirgilE3Kit.svg?style=flat" alt="Platform"></a>
<a href="https://github.com/VirgilSecurity/virgil/blob/master/LICENSE"><img src="https://img.shields.io/badge/license-BSD%203--Clause-blue.svg" alt="GitHub license"></a></p>
<h2 id='introduction' class='heading'>Introduction</h2>

<p><a href="https://developer.virgilsecurity.com/docs"><img width="230px" src="https://cdn.virgilsecurity.com/assets/images/github/logos/virgil-logo-red.png" align="left" hspace="10" vspace="6"></a> <a href="https://virgilsecurity.com">Virgil Security</a> provides an SDK which simplifies work with Virgil services and presents easy to use API for adding security to any application. In a few simple steps you can setup user encryption with multidevice support.</p>
<h2 id='sdk-features' class='heading'>SDK Features</h2>

<ul>
<li>multidevice support</li>
<li>manage users&rsquo; Public Keys</li>
</ul>
<h2 id='installation' class='heading'>Installation</h2>

<p>Virgil E3Kit is provided as a set of frameworks. These frameworks are distributed via Carthage.  Also in this guide, you find one more package called VirgilCrypto (Virgil Crypto Library) that is used by the E3Kit to perform cryptographic operations.</p>

<p>All frameworks are available for:</p>

<ul>
<li>iOS 9.0+</li>
<li>macOS 10.10+</li>
<li>tvOS 9.0+</li>
<li>watchOS 2.0+</li>
</ul>
<h3 id='cocoapods' class='heading'>COCOAPODS</h3>

<p><a href="http://cocoapods.org">CocoaPods</a> is a dependency manager for Cocoa projects. You can install it with the following command:</p>
<pre class="highlight shell"><code><span class="nv">$ </span>gem <span class="nb">install </span>cocoapods
</code></pre>

<p>To integrate Virgil E3Kit into your Xcode project using CocoaPods, specify it in your <em>Podfile</em>:</p>
<pre class="highlight shell"><code>target <span class="s1">'&lt;Your Target Name&gt;'</span> <span class="k">do
</span>use_frameworks!

pod <span class="s1">'VirgilE3Kit'</span>, <span class="s1">'~&gt; 0.5'</span>
end
</code></pre>

<p>Then, run the following command:</p>
<pre class="highlight shell"><code><span class="nv">$ </span>pod <span class="nb">install</span>
</code></pre>
<h3 id='carthage' class='heading'>Carthage</h3>

<p><a href="https://github.com/Carthage/Carthage">Carthage</a> is a decentralized dependency manager that builds your dependencies and provides you with binary frameworks.</p>

<p>You can install Carthage with <a href="http://brew.sh/">Homebrew</a> using the following command:</p>
<pre class="highlight shell"><code><span class="nv">$ </span>brew update
<span class="nv">$ </span>brew <span class="nb">install </span>carthage
</code></pre>

<p>To integrate VirgilE3Kit into your Xcode project using Carthage, create an empty file with name <em>Cartfile</em> in your project&rsquo;s root folder and add following lines to your <em>Cartfile</em></p>
<pre class="highlight plaintext"><code>github "VirgilSecurity/virgil-e3kit-x" ~&gt; 0.5
</code></pre>
<h4 id='linking-against-prebuilt-binaries' class='heading'>Linking against prebuilt binaries</h4>

<p>To link prebuilt frameworks to your app, run following command:</p>
<pre class="highlight shell"><code><span class="nv">$ </span>carthage update
</code></pre>

<p>This will build each dependency or download a pre-compiled framework from github Releases.</p>
<h5 id='building-for-ios-tvos-watchos' class='heading'>Building for iOS/tvOS/watchOS</h5>

<p>On your application targets’ “General” settings tab, in the “Linked Frameworks and Libraries” section, add following frameworks from the <em>Carthage/Build</em> folder inside your project&rsquo;s folder:</p>

<ul>
<li>VirgilPythiaSDK</li>
<li>VirgilKeyknoxSDK</li>
<li>VirgilSDK</li>
<li>VirgilCryptoAPI</li>
<li>VirgilCrypto</li>
<li>VirgilCryptoFoundation</li>
<li>VirgilCryptoPythia</li>
<li>VSCCommon</li>
<li>VSCFoundation</li>
<li>VSCPythia</li>
</ul>

<p>On your application targets’ “Build Phases” settings tab, click the “+” icon and choose “New Run Script Phase.” Create a Run Script in which you specify your shell (ex: <em>/bin/sh</em>), add the following contents to the script area below the shell:</p>
<pre class="highlight shell"><code>/usr/local/bin/carthage copy-frameworks
</code></pre>

<p>and add the paths to the frameworks you want to use under “Input Files”, e.g.:</p>
<pre class="highlight plaintext"><code>$(SRCROOT)/Carthage/Build/iOS/VirgilPythiaSDK.framework
$(SRCROOT)/Carthage/Build/iOS/VirgilKeyknoxSDK.framework
$(SRCROOT)/Carthage/Build/iOS/VirgilSDK.framework
$(SRCROOT)/Carthage/Build/iOS/VirgilCryptoAPI.framework
$(SRCROOT)/Carthage/Build/iOS/VirgilCrypto.framework
$(SRCROOT)/Carthage/Build/iOS/VirgilCryptoFoundation.framework
$(SRCROOT)/Carthage/Build/iOS/VirgilCryptoPythia.framework
$(SRCROOT)/Carthage/Build/iOS/VSCCommon.framework
$(SRCROOT)/Carthage/Build/iOS/VSCFoundation.framework
$(SRCROOT)/Carthage/Build/iOS/VSCPythia.framework
</code></pre>
<h5 id='building-for-macos' class='heading'>Building for macOS</h5>

<p>On your application target&rsquo;s “General” settings tab, in the “Embedded Binaries” section, drag and drop following frameworks from the Carthage/Build folder on disk:</p>

<ul>
<li>VirgilPythiaSDK</li>
<li>VirgilKeyknoxSDK</li>
<li>VirgilSDK</li>
<li>VirgilCryptoAPI</li>
<li>VirgilCrypto</li>
<li>VirgilCryptoFoundation</li>
<li>VirgilCryptoPythia</li>
<li>VSCCommon</li>
<li>VSCFoundation</li>
<li>VSCPythia</li>
</ul>

<p>Additionally, you&rsquo;ll need to copy debug symbols for debugging and crash reporting on macOS.</p>

<p>On your application target’s “Build Phases” settings tab, click the “+” icon and choose “New Copy Files Phase”.
Click the “Destination” drop-down menu and select “Products Directory”. For each framework, drag and drop corresponding dSYM file.</p>
<h4 id='register-user' class='heading'>Register User</h4>

<p>Use the following lines of code to authenticate user.</p>
<pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">VirgilE3Kit</span>

<span class="c1">// initialize E3Kit</span>
<span class="kt">EThree</span><span class="o">.</span><span class="nf">initialize</span><span class="p">(</span><span class="n">tokenCallback</span><span class="p">)</span> <span class="p">{</span> <span class="n">eThree</span><span class="p">,</span> <span class="n">error</span> <span class="k">in</span> 
    <span class="k">guard</span> <span class="k">let</span> <span class="nv">eThree</span> <span class="o">=</span> <span class="n">eThree</span><span class="p">,</span> <span class="n">error</span> <span class="o">==</span> <span class="kc">nil</span> <span class="k">else</span> <span class="p">{</span>
      <span class="c1">// error handling here</span>
    <span class="p">}</span>
    <span class="n">eThree</span><span class="o">.</span><span class="n">register</span> <span class="p">{</span> <span class="n">error</span> <span class="k">in</span> 
        <span class="c1">// done</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<h4 id='encrypt-amp-decrypt' class='heading'>Encrypt &amp; decrypt</h4>

<p>Virgil E3Kit lets you use a user&rsquo;s Private key and his or her Public Keys to sign, then encrypt text.</p>
<pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">VirgilE3Kit</span>

<span class="c1">// prepare a message</span>
<span class="k">let</span> <span class="nv">messageToEncrypt</span> <span class="o">=</span> <span class="s">"Hello, Bob!"</span>

<span class="c1">// initialize E3Kit</span>
<span class="kt">EThree</span><span class="o">.</span><span class="nf">initialize</span><span class="p">(</span><span class="n">tokenCallback</span><span class="p">)</span> <span class="p">{</span> <span class="n">eThree</span><span class="p">,</span> <span class="n">error</span> <span class="k">in</span> 
    <span class="c1">// Authenticate user </span>
    <span class="n">eThree</span><span class="o">!.</span><span class="n">register</span> <span class="p">{</span> <span class="n">error</span> <span class="k">in</span>
        <span class="c1">// Search user's publicKeys to encrypt for</span>
        <span class="n">eThree</span><span class="o">!.</span><span class="nf">lookUpPublicKeys</span><span class="p">(</span><span class="nv">of</span><span class="p">:</span> <span class="p">[</span><span class="s">"Alice"</span><span class="p">,</span> <span class="s">"Den"</span><span class="p">])</span> <span class="p">{</span> <span class="n">lookupResult</span><span class="p">,</span> <span class="n">error</span> <span class="k">in</span> 
            <span class="c1">// encrypt text</span>
            <span class="k">let</span> <span class="nv">encryptedMessage</span> <span class="o">=</span> <span class="k">try!</span> <span class="n">eThree</span><span class="o">.</span><span class="nf">encrypt</span><span class="p">(</span><span class="n">messageToEncrypt</span><span class="p">,</span> <span class="nv">for</span><span class="p">:</span> <span class="n">lookupResult</span><span class="o">!</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<h2 id='license' class='heading'>License</h2>

<p>This library is released under the <a href="LICENSE">3-clause BSD License</a>.</p>
<h2 id='support' class='heading'>Support</h2>

<p>Our developer support team is here to help you. Find out more information on our <a href="https://help.virgilsecurity.com/">Help Center</a>.</p>

<p>You can find us on <a href="https://twitter.com/VirgilSecurity">Twitter</a> or send us email <a href="mailto:support@VirgilSecurity.com">support@VirgilSecurity.com</a>.</p>

<p>Also, get extra help from our support team on <a href="https://virgilsecurity.com/join-community">Slack</a>.</p>

          </section>
        </section>
        <section id="footer">
          <p>&copy; 2019 <a class="link" href="https://virgilsecurity.com/" target="_blank" rel="external">Virgil Security</a>. All rights reserved. (Last updated: 2019-03-21)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.9.5</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
